<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Capability vs Reliability: The Real Challenge of LLM - Jingning</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
</head>
<body class="blog-detail-page">
    <div class="container page-transition">
        <header>
            <h1 class="plain-text" id="mainTitle">Loading...</h1>
            <p class="plain-text subtitle" id="subtitle">Loading...</p>
            <a href="blog.html" class="plain-text link-button" id="backLink">‚Üê Back to Blog</a>
        </header>
        
        <main>
            <section class="content">
                <article class="blog-post">
                    <div class="blog-content" id="blogContent">
                        <!-- Blog content will be loaded dynamically -->
                    </div>
                </article>
            </section>
        </main>
    </div>

    <script>
        // Smooth page transitions
        function smoothPageTransition(url) {
            document.body.style.opacity = '0';
            document.body.style.transform = 'translateY(-20px)';
            document.body.style.transition = 'all 0.4s ease-in-out';
            
            setTimeout(() => {
                window.location.href = url;
            }, 400);
        }
        
        // Load blog post content
        async function loadBlogPost() {
            try {
                // Get post ID from URL parameter
                const urlParams = new URLSearchParams(window.location.search);
                const postId = urlParams.get('id');
                
                if (!postId) {
                    document.getElementById('mainTitle').textContent = 'Post Not Found';
                    document.getElementById('subtitle').textContent = '';
                    document.getElementById('blogContent').innerHTML = '<p class="plain-text">No post ID specified.</p>';
                    return;
                }
                
                // Load blog data
                const response = await fetch('blog-data.json');
                const data = await response.json();
                
                // Find the post
                const post = data.posts.find(p => p.id === postId);
                
                if (!post) {
                    document.getElementById('mainTitle').textContent = 'Post Not Found';
                    document.getElementById('subtitle').textContent = '';
                    document.getElementById('blogContent').innerHTML = '<p class="plain-text">Post not found.</p>';
                    return;
                }
                
                // Update page title and header
                document.title = `${post.title} - Jingning`;
                document.getElementById('mainTitle').textContent = post.title;
                document.getElementById('subtitle').textContent = post.shortDate;
                
                // Build content HTML
                let contentHTML = `<p class="plain-text">${post.intro}</p>`;
                
                post.content.forEach((item, index) => {
                    if (item.type === 'section') {
                        contentHTML += `
                            <h3 class="plain-text">${item.title}</h3>
                            <p class="plain-text"><strong>Risk:</strong> ${item.risk}</p>
                            <p class="plain-text"><strong>Solution:</strong> ${item.solution}</p>
                            <p class="plain-text"><strong>Not fixed yet:</strong> ${item.notFixed}</p>
                        `;
                    } else if (item.type === 'challenge') {
                        contentHTML += `
                            <h3 class="plain-text">${item.title}</h3>
                            <p class="plain-text">${item.description}</p>
                            <p class="plain-text"><strong>Current fix:</strong> ${item.fix}</p>
                            <p class="plain-text"><strong>Remains:</strong> ${item.remains}</p>
                        `;
                    }
                });
                
                contentHTML += `
                    <h3 class="plain-text">Final Thought</h3>
                    <p class="plain-text">${post.conclusion}</p>
                `;
                
                document.getElementById('blogContent').innerHTML = contentHTML;
                
            } catch (error) {
                console.error('Error loading blog post:', error);
                document.getElementById('mainTitle').textContent = 'Error Loading Post';
                document.getElementById('subtitle').textContent = '';
                document.getElementById('blogContent').innerHTML = '<p class="plain-text">Error loading blog post.</p>';
            }
        }
        
        // Add click event listeners for smooth transitions
        document.getElementById('backLink').addEventListener('click', function(e) {
            e.preventDefault();
            smoothPageTransition('blog.html');
        });
        
        // Load blog post when page loads
        document.addEventListener('DOMContentLoaded', loadBlogPost);
    </script>
</body>
</html>
